{"version":3,"sources":["uni-app:///main.js","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/my/integral/details.vue?cfa5","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/my/integral/details.vue?e653","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/my/integral/details.vue?759a","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/my/integral/details.vue?4dff","uni-app:///yb_wm/my/integral/details.vue","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/my/integral/details.vue?97d3","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/my/integral/details.vue?4dbf"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"yb_wm/my/integral/details.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './yb_wm/my/integral/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=33a581fe&scoped=true&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&id=33a581fe&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33a581fe\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"yb_wm/my/integral/details.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=template&id=33a581fe&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pb130\">\r\n\t\t<mg-swiper :co='swiper' u='rpx' :color='tColor'></mg-swiper>\r\n\t\t<view class='p3 bf mb20'>\r\n\t\t\t<view class=\"f-x-bt\">\r\n\t\t\t\t<view class='t-o-e f34 wei'>{{dlDatl.name}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"f-bt mt10\">\r\n\t\t\t\t<view class='cfa f30 mb10' :style=\"{color:tColor}\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.score>0\">{{dlDatl.score}}</text>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.score>0\" class=\"f22 nowei c9\">{{jfName}}</text>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.score>0 && dlDatl.money>0\" class=\"nowei c9\">+</text>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.money>0\">{{dlDatl.money}}<text class=\"f22 c9\">{{dw}}</text></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"dlDatl.type==1\" class=\"t-o-e t-d-l c9 f22 wei4\">{{sl+dlDatl.price}}</view>\r\n\t\t\t\t\t<!-- <view v-else class=\"f-y-c c9 f22 nowei\">红包金额：{{dlDatl.price}}</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"f24 c9\" v-if=\"dlDatl.stock-dlDatl.convertNum>-1\">剩余{{dlDatl.stock-dlDatl.convertNum}}件</view>\r\n\t\t\t\t\t<!-- <view class=\"f24 c9 t-r\">库存：{{dlDatl.stock}}</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bf p3\">\r\n\t\t\t<view class=\"f32 wei\">商品详情</view>\r\n\t\t\t<view v-if=\"dlDatl.notice\" class=\"mt30\">\r\n\t\t\t\t<mg-rtext type='2' :content=\"dlDatl.notice\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"dbbtnc\" :style=\"{bottom: isIpx?'40rpx':0}\">\r\n\t\t\t<view class=\"dbbtn\">\r\n\t\t\t\t<button @click=\"ljdh\" class=\"rt f-c\" :style=\"{background:tColor}\">立即兑换</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"isIpx\" class='bgf'></view>\r\n\t\t<mg-popup v-model=\"showTime\">\r\n\t\t\t<view class=\"bf c3 bs2000\">\r\n\t\t\t\t<view class='f24 p3 pb0 bor-b'>\r\n\t\t\t\t\t<view class=\"bf cout f-row pb30\">\r\n\t\t\t\t\t\t<view class=\"f-g-0 coutl mr30\">\r\n\t\t\t\t\t\t\t<view class=\"imgw bs10 bf7\">\r\n\t\t\t\t\t\t\t\t<mg-img :src=\"dlDatl.icon\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"f-g-1 f-y-bt\">\r\n\t\t\t\t\t\t\t<view class=\"wei4 f32 t-o-e c3\">{{dlDatl.name}}</view>\r\n\t\t\t\t\t\t\t<view class=\"f-x-bt mt20 cf7 f36 wei4\">\r\n\t\t\t\t\t\t\t\t<view class=\"cfa\" :style=\"{color:tColor}\">\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"dlDatl.score>0\" class=\"\">{{dlDatl.score}}</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"dlDatl.score>0\" class=\"f22 nowei c9\">{{jfName}}</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"dlDatl.score>0 && dlDatl.money>0\" class=\"nowei c9\">+</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"dlDatl.money>0\">{{dlDatl.money}}<text class=\"f22 c9\">{{dw}}</text></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"f-x-bt p3 bor-b\" v-if=\"dlDatl.type==1\">\r\n\t\t\t\t\t<view class=\"f28 wei4\">配送方式</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"bf f-x-bt\">\r\n\t\t\t\t\t\t\t<view @click=\"clickMode(v)\" v-for=\"(v,i) in ModeArr\" :key='i' class=\"pstypec f-c ml30\" :style=\"{color:v.value==params.deliveryMode?tColor:'',borderColor:v.value==params.deliveryMode?tColor:''}\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont f28 mr10\" :class=\"[v.icon]\" :style=\"{color:v.value==params.deliveryMode?tColor:''}\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"f24\">{{v.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<block v-if=\"dlDatl.type==1\">\r\n\t\t\t\t\t<get-address mw=' ' v-if=\"params.deliveryMode==1\" :ptype='2' :address='wmAddress' color=\"#333\"></get-address>\r\n\t\t\t\t\t<get-ztjf v-if=\"params.deliveryMode==2\" :address='ziAddress' @ztshow='ztshow'></get-ztjf>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"f-x-bt p3 bor-t\">\r\n\t\t\t\t\t<view class=\"f28 wei4\">兑换数量</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<number-box :min=\"1\" :max=\"maxNum\" @change=\"bindChange\"></number-box>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"params.deliveryMode==1&&dlDatl.type==1\" class=\"f-x-bt p3 bor-b bor-t\">\r\n\t\t\t\t\t<view class=\"f28 wei4\">配送运费</view>\r\n\t\t\t\t\t<view>{{sl+dlDatl.deliveryMoney}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"p3 f28 t-r\">\r\n\t\t\t\t\t<view>共{{params.convertNum}}份，合计\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.score>0\" class=\"cfa\">{{xjMoney.totalScore}}</text>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.score>0\">{{jfName}}</text>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.score>0 && dlDatl.money>0\">+</text>\r\n\t\t\t\t\t\t<text v-if=\"dlDatl.money>0\" class=\"cfa\">{{sl+xjMoney.total}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"p3\" :class=\"{mb30:isIpx}\">\r\n\t\t\t\t\t<button :disabled=\"loading\" :loading=\"loading\" @click=\"qrdh\" :style='{background:tColor}' class=\"w100 cf f34 qrdh\">确认兑换</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</mg-popup>\r\n\t\t<!-- 自提列表弹窗 -->\r\n\t\t<zi-list :co='zitiList' @chooseAdd='chooseAdd' v-model=\"showGg\"></zi-list>\r\n\t\t<load v-if=\"showLoading\"></load>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\timport MgSwiper from '@/components/common/functionCmp/swiper.vue'\r\n\timport mgRtext from '@/components/common/functionCmp/rich-text.vue'\r\n\timport utils from '@/common/utils.js'\r\n\timport mgPopup from '@/components/common/popup.vue'\r\n\timport getAddress from '@/components/address/get-address.vue'\r\n\timport getZtjf from '@/components/address/get-ztjf.vue'\r\n\timport ziList from './zi-list.vue'\r\n\timport numberBox from \"@/components/form/number-box.vue\"\r\n\timport load from '@/components/common/load.vue'\r\n\timport {\r\n\t\tutilMixins\r\n\t} from \"@/common/util-mixins.js\"\r\n\texport default {\r\n\t\tname: 'js-details',\r\n\t\tcomponents: {\r\n\t\t\tMgSwiper,\r\n\t\t\tmgRtext,\r\n\t\t\tmgPopup,\r\n\t\t\tgetAddress,\r\n\t\t\tgetZtjf,\r\n\t\t\tziList,\r\n\t\t\tnumberBox,\r\n\t\t\tload,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tswiper: {\r\n\t\t\t\t\tclass: '',\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\tswiper: [{\r\n\t\t\t\t\t\ticon: ''\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tduration: '',\r\n\t\t\t\t\tmode: '',\r\n\t\t\t\t\theight: '500',\r\n\t\t\t\t\tradius: '0',\r\n\t\t\t\t\tauto: true,\r\n\t\t\t\t\tinterval: 5,\r\n\t\t\t\t},\r\n\t\t\t\tshowLoading: true,\r\n\t\t\t\tloading: false, //加载\r\n\t\t\t\tpayObj: {},\r\n\t\t\t\tshowTime: false, //底部弹出层\r\n\t\t\t\twmAddress: '', //收货地址\r\n\t\t\t\tziAddress: '', //自提地址\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tselfId: '', //自提id\r\n\t\t\t\t\tgoodsId: '', //商品Id\r\n\t\t\t\t\tconvertNum: '1', //兑换数量\r\n\t\t\t\t\tdeliveryMode: '', //1快递2到店\r\n\t\t\t\t\tuserAddId: '', //快递id\r\n\t\t\t\t},\r\n\t\t\t\tdlDatl: '',\r\n\t\t\t\tconfig: '',\r\n\t\t\t\tModeArr: [],\r\n\t\t\t\tshowGg: false,\r\n\t\t\t\tzitiList: {}, //自提点弹窗信息\r\n\t\t\t\tmaxNum: 1,\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tlet id\r\n\t\t\tif (options.scene) {\r\n\t\t\t\tid = decodeURIComponent(options.scene)\r\n\t\t\t} else {\r\n\t\t\t\tid = options.id\r\n\t\t\t}\r\n\t\t\tthis.id = id\r\n\t\t\tthis.getSystem()\r\n\t\t\tthis.util.setNT(this.jfName + '商城-商品详情')\r\n\t\t\t// this.getConfig()\r\n\t\t\tthis.getData()\r\n\t\t\tuni.$on('changeChoose', (e) => {\r\n\t\t\t\tif (e.hasOwnProperty('addInfo')) {\r\n\t\t\t\t\tthis.refreshAddress(e.addInfo)\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('changeChoose', e)\r\n\t\t\t})\r\n\t\t\tconsole.log('%c options ',\r\n\t\t\t\t'color: white; background-color: #2274A5', options);\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('changeChoose');\r\n\t\t},\r\n\t\tmixins: [utilMixins],\r\n\t\tcomputed: {\r\n\t\t\tjfName() {\r\n\t\t\t\treturn this.system.custom.integral\r\n\t\t\t},\r\n\t\t\txjMoney() {\r\n\t\t\t\tif (this.dlDatl) {\r\n\t\t\t\t\tlet num = +this.params.convertNum,\r\n\t\t\t\t\t\tscore = +this.dlDatl.score,\r\n\t\t\t\t\t\tmoney = +this.dlDatl.money,\r\n\t\t\t\t\t\tyf = +(this.params.deliveryMode == 1 && this.dlDatl.type == 1 ? this.dlDatl.deliveryMoney || 0 : 0),\r\n\t\t\t\t\t\ttotal = 0,\r\n\t\t\t\t\t\ttotalScore = 0\r\n\t\t\t\t\ttotal = +(num * money + yf).toFixed(2) //总金额\r\n\t\t\t\t\ttotalScore = num * score //总\r\n\t\t\t\t\t// console.log(total, totalScore)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttotalScore\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getConfig() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.config,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tident: 'integral'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.config = data\r\n\t\t\t},\r\n\t\t\tasync getData() {\r\n\t\t\t\t//获取商品详情\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.jfspxq,\r\n\t\t\t\t\tmask: 1,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: this.id\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\tthis.swiper.swiper[0].icon = data.icon\r\n\t\t\t\tthis.dlDatl = data\r\n\t\t\t\tawait this.getLoginInfo()\r\n\t\t\t\tthis.getziList()\r\n\t\t\t\tthis.maxNum = data.stock\r\n\t\t\t\tthis.params.goodsId = data.id\r\n\t\t\t\tif (data.deliveryMode.indexOf(1) > -1) {\r\n\t\t\t\t\tthis.ModeArr.push({\r\n\t\t\t\t\t\ticon: 'iconddys',\r\n\t\t\t\t\t\tname: '快递配送',\r\n\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (data.deliveryMode.indexOf(2) > -1) {\r\n\t\t\t\t\tthis.ModeArr.push({\r\n\t\t\t\t\t\ticon: 'iconshangjia',\r\n\t\t\t\t\t\tname: '到店自取',\r\n\t\t\t\t\t\tvalue: '2',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (this.ModeArr.length == 1 && data.deliveryMode.indexOf(2) > -1) {\r\n\t\t\t\t\tthis.params.deliveryMode = 2\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.params.deliveryMode = 1\r\n\t\t\t\t}\r\n\t\t\t\t//如果兑换类型type为1为实物兑换，deliveryMode==1为快递发货\r\n\t\t\t\t//获取到详情数据或打开遮罩\r\n\t\t\t\tthis.showLoading = false\r\n\t\t\t},\r\n\t\t\t//获取地址\r\n\t\t\tasync getziList() {\r\n\t\t\t\tif (this.dlDatl.type == '1') {\r\n\t\t\t\t\t//收货地址\r\n\t\t\t\t\tlet res1 = await this.util.request({\r\n\t\t\t\t\t\t'url': this.api.wdshdz,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res1.data.length > 0) {\r\n\t\t\t\t\t\tthis.wmAddress = res1.data[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//自提地址\r\n\t\t\t\t\tlet res = await this.util.request({\r\n\t\t\t\t\t\t'url': this.api.jfscztlb,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.zitiList = res.data\r\n\t\t\t\t\tthis.ziAddress = res.data[0]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefreshAddress(e) {\r\n\t\t\t\tthis.wmAddress = e\r\n\t\t\t},\r\n\t\t\t//自提列表显示\r\n\t\t\tztshow(e) {\r\n\t\t\t\tthis.showGg = true\r\n\t\t\t},\r\n\t\t\t//自提列表选择\r\n\t\t\tchooseAdd(v) {\r\n\t\t\t\tthis.ziAddress = v\r\n\t\t\t\tconsole.log('chooseAdd', this.ziAddress)\r\n\t\t\t},\r\n\t\t\t//选择快递配送还是到店自取\r\n\t\t\tclickMode(v) {\r\n\t\t\t\tthis.util.showLoading('设置中...')\r\n\t\t\t\tthis.params.deliveryMode = v.value\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}, 500)\r\n\t\t\t\tconsole.log(v.name)\r\n\t\t\t},\r\n\t\t\t//商品数量加减\r\n\t\t\tbindChange(value) {\r\n\t\t\t\tconsole.log('Changenum', value)\r\n\t\t\t\tthis.params.convertNum = value\r\n\t\t\t\t// if (value>this.maxNum) {\r\n\t\t\t\t// \treturn this.util.message('超出库存限制', 3)\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\t//点击立即兑换\r\n\t\t\tasync ljdh() {\r\n\t\t\t\tthis.showTime = true\r\n\t\t\t},\r\n\t\t\t//确认兑换提交\r\n\t\t\tasync qrdh() {\r\n\r\n\t\t\t\t// deliveryMode == 1是快递发货\r\n\t\t\t\t//dlDatl.type=='2'是虚拟兑换\r\n\t\t\t\tif (this.dlDatl.type == '2') {\r\n\t\t\t\t\tthis.params.selfId = ''\r\n\t\t\t\t\tthis.params.userAddId = ''\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.params.deliveryMode == '1') {\r\n\t\t\t\t\t\t// console.log('收货地址', this.wmAddress)\r\n\t\t\t\t\t\tif (!this.wmAddress) {\r\n\t\t\t\t\t\t\treturn this.util.message('请选择收货地址后下单', 3)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.params.userAddId = this.wmAddress.id\r\n\t\t\t\t\t\tthis.params.selfId = ''\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// console.log('自提地址', this.zitiList, this.ziAddress)\r\n\t\t\t\t\t\tif (!this.ziAddress) {\r\n\t\t\t\t\t\t\treturn this.util.message('请选择自提地址后下单', 3)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.params.userAddId = ''\r\n\t\t\t\t\t\tthis.params.selfId = this.ziAddress.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('%c options ',\r\n\t\t\t\t// \t'color: white; background-color: #2274A5', this.params);\r\n\t\t\t\t// return\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tlet orderRes = await this.util.request({\r\n\t\t\t\t\t'url': this.api.jfspxd,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tmask: '下单中',\r\n\t\t\t\t\tdata: this.params,\r\n\t\t\t\t})\r\n\t\t\t\t// console.log('ljdh orderRes', orderRes, this.xjMoney.total, this.xjMoney.totalScore)\r\n\t\t\t\tif (orderRes) {\r\n\t\t\t\t\t// console.log('有现金兑换', orderRes, this.xjMoney.total)\r\n\t\t\t\t\tthis.util.message('提交成功', 1, 1000)\r\n\t\t\t\t\tutils.stfn(() => {\r\n\t\t\t\t\t\tif (this.xjMoney.total > 0) {\r\n\t\t\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\t\t\tt: 2,\r\n\t\t\t\t\t\t\t\turl: '/yb_wm/other/mg-pay?payObj=' + encodeURIComponent(JSON.stringify({\r\n\t\t\t\t\t\t\t\t\torderId: orderRes.data,\r\n\t\t\t\t\t\t\t\t\torderType: 3,\r\n\t\t\t\t\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\t\t\t\t\tmoney: this.xjMoney.total,\r\n\t\t\t\t\t\t\t\t\t\ttype: \"下单支付\",\r\n\t\t\t\t\t\t\t\t\t\tcancel: 1,\r\n\t\t\t\t\t\t\t\t\t\tgo: {\r\n\t\t\t\t\t\t\t\t\t\t\tt: 2,\r\n\t\t\t\t\t\t\t\t\t\t\turl: \"/yb_wm/my/integral/integral-record\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\t\t\tt: 2,\r\n\t\t\t\t\t\t\t\turl: `/yb_wm/my/integral/integral-record`,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\t// onShareAppMessage() {\r\n\t\t// \treturn {\r\n\t\t// \t\ttitle: this.co.name,\r\n\t\t// \t\timageUrl: this.getSingleImg(this.co.media[0]),\r\n\t\t// \t}\r\n\t\t// },\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.bor-b {\r\n\t\tborder-bottom: 1px solid #EFF3F6;\r\n\t}\r\n\r\n\t.bor-t {\r\n\t\tborder-top: 1px solid #EFF3F6;\r\n\t}\r\n\r\n\t.dbbtnc {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tpadding: 30rpx;\r\n\r\n\t\t.dbbtn {\r\n\t\t\theight: 96rpx;\r\n\t\t\tborder-radius: 90rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\tdisplay: flex;\r\n\t\t\tbox-shadow: 0rpx 8rpx 18rpx 5rpx rgba(221, 221, 221, 0.9);\r\n\r\n\t\t\t.rt {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.imgw {\r\n\t\twidth: 130rpx;\r\n\t\theight: 130rpx;\r\n\t}\r\n\r\n\t.pstypec {\r\n\t\twidth: 180rpx;\r\n\t\theight: 58rpx;\r\n\t\tborder: 1rpx solid #ddd;\r\n\t\tborder-radius: 28px;\r\n\t}\r\n\r\n\t.qrdh {\r\n\t\tborder-radius: 48rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&id=33a581fe&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&id=33a581fe&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637836931457\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}