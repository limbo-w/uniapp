{"version":3,"sources":["uni-app:///main.js","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?705d","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?5a7c","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?0340","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?1699","uni-app:///yb_wm/shop/in/dmf.vue","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?1c92","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?f089","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?2881","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/dmf.vue?c39c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"yb_wm/shop/in/dmf.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './yb_wm/shop/in/dmf.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./dmf.vue?vue&type=template&id=81f25f2a&scoped=true&\"\nvar renderjs\nimport script from \"./dmf.vue?vue&type=script&lang=js&\"\nexport * from \"./dmf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dmf.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./dmf.vue?vue&type=style&index=1&id=81f25f2a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81f25f2a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"yb_wm/shop/in/dmf.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=template&id=81f25f2a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=script&lang=js&\"","<template>\r\n\t<mg-form>\r\n\t\t<view class=\"f-col h100\">\r\n\t\t\t<mg-cell :sname=\"{padding:'50rpx'}\" bgc=\"transparent\" last='1' btt=\"付款给商家\" bttc='f32 wei' :bbt=\"`名称:${shopinfo.name||''}`\">\r\n\t\t\t\t<view slot='ft' class=\"sjimg bsf\">\r\n\t\t\t\t\t<mg-img :src=\"shopinfo.icon||''\" />\r\n\t\t\t\t</view>\r\n\t\t\t</mg-cell>\r\n\t\t\t<view class=\"f-g-1 bf mdbd p30\">\r\n\t\t\t\t<view class=\"mdbdt\">\r\n\t\t\t\t\t<view class=\"c9 f-x-bt\">\r\n\t\t\t\t\t\t<text>金额</text>\r\n\t\t\t\t\t\t<text>请询问服务员后输入</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"p20 b-b-e f-row\" style=\"align-items: flex-start;\">\r\n\t\t\t\t\t\t<text class=\"mr20 f56 wei\" style=\"margin-top: -6rpx;\">{{sl}}</text>\r\n\t\t\t\t\t\t<input v-model=\"money\" @input='minput' :style=\"{caretColor:tColor}\" focus='true' type=\"digit\" maxlength='6' class=\"f-g-1 mdinput wei\"\r\n\t\t\t\t\t\t placeholder=\"输入金额\" placeholder-class='mdps itpc' placeholder-style=\"line-height: normal;\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mdbdb mt30\" v-if=\"discountData.discount && discountData.newMoney>0 && discountData.discountMoney>0\">\r\n\t\t\t\t\t<mg-cell isl='1' last='1' cname='p30' :ft='`-${sl+discountData.discountMoney}`' ftc='f32'>\r\n\t\t\t\t\t\t<view slot='bd'>\r\n\t\t\t\t\t\t\t<text class=\"f30 wei\">会员折扣</text>\r\n\t\t\t\t\t\t\t<text class=\"ml10 cfc\">（{{discountData.discount}}折）</text>\r\n\t\t\t\t\t\t</view>\r\n<!-- \t\t\t\t\t\t<view slot='hd' class=\"f-row mr10\">\r\n\t\t\t\t\t\t\t<view class=\"f-row\">\r\n\t\t\t\t\t\t\t\t<view class=\"vipr f-y-c\">VIP</view>\r\n\t\t\t\t\t\t\t\t<view class=\"vipl f-y-c\">\r\n\t\t\t\t\t\t\t\t\t<view>{{sl+discountData.discount}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</mg-cell>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"mdconfig\" class=\"mdbdb mt30\">\r\n\t\t\t\t\t<!-- <mg-cell isl='1' last='1' cname='p30' btt='满减优惠' :ft='`-0.00`' ftc='f32' :color='tColor'>\r\n\t\t\t\t\t\t<view slot='hd' class=\"f-row hdwith\">\r\n\t\t\t\t\t\t\t<view class=\"itemcon pomj\">满减</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</mg-cell> -->\r\n\t\t\t\t\t<mg-cell v-if=\"yhq\" @tab=\"go({t:1,url:'/yb_o2o/my/coupon/use-coupon?storeId='+params.storeId})\" isl='1' last='1'\r\n\t\t\t\t\t btt='优惠券抵扣' bttc=\"f30 wei\" cname='p30' :color=\"kyhb.n>0?tColor:''\" arrow='1'>\r\n\t\t\t\t\t\t<!-- <view slot='hd' class=\"f-row hdwith\">\r\n\t\t\t\t\t\t\t<view class=\"itemcon pomj\">优惠券</view>\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t<view slot='ft'>\r\n\t\t\t\t\t\t\t<text v-if='couponInfo' class=\"f32\">-{{sl+couponInfo.money}}</text>\r\n\t\t\t\t\t\t\t<view v-else-if='kyhb.n>0' class=\"hongbao bs5 f20 f-y-c\"><text class=\"iconfont iconhb cf mr10 f26\"></text>{{kyhb.n}}个可用</view>\r\n\t\t\t\t\t\t\t<view v-else-if='kyhb.n==0' class=\"f24 f-y-c\">暂无可用</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</mg-cell>\r\n\t\t\t\t\t<mg-cell v-if=\"vip\" isl='1' last='1' cname='p30' :ft='`-${sl+zkmoney}`' ftc='f32'>\r\n\t\t\t\t\t\t<!-- <view slot='hd' class=\"f-row hdwith\">\r\n\t\t\t\t\t\t\t<view class=\"itemcon pomj\">VIP</view>\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t<view slot='bd'>\r\n\t\t\t\t\t\t\t<text class=\"f30 wei\">会员折扣</text>\r\n\t\t\t\t\t\t\t<text v-if=\"user.discount\" class=\"ml10 cfc\">（{{user.discount}}折）</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view slot='hd' class=\"hdwith f-row\">\r\n\t\t\t\t\t\t\t<view class=\"vipl f-y-c\">\r\n\t\t\t\t\t\t\t\t<view>0.9折</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"vipr f-y-c\">VIP</view>\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</mg-cell>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mdbdb mt30\">\r\n\t\t\t\t\t<mg-cell isl='1' last='1' btt='实际应付' bttc=\"f30 wei\" cname='p30'>\r\n\t\t\t\t\t\t<view slot='ft' class=\"c3\">\r\n\t\t\t\t\t\t\t<text class=\"mr20\">合计</text>\r\n\t\t\t\t\t\t\t<text class=\"f26\">{{sl}}</text>\r\n\t\t\t\t\t\t\t<text class=\"f40\">{{money?total:0}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</mg-cell>\r\n\t\t\t\t\t<view class=\"p20 f-y-c\">\r\n\t\t\t\t\t\t<view class=\"mr30\">备注</view>\r\n\t\t\t\t\t\t<input v-model=\"params.userNote\" class=\"weui-input f-1\" maxlength=\"20\" placeholder=\"添加备注(20字以内)\"\r\n\t\t\t\t\t\t placeholder-class='itpc' />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"foot-btnc\" v-if=\"shopinfo.id\">\r\n\t\t\t\t\t<button :disabled=\"loading\" :loading=\"loading\" @click=\"qdzf\" class=\"foot-btn\" :style=\"{background:tColor}\">已和店员确认，立即买单</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</mg-form>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\timport {\r\n\t\tutilMixins\r\n\t} from \"@/common/util-mixins.js\"\r\n\timport utils from '@/common/utils.js'\r\n\timport MgCell from '@/components/common/mg-cell.vue'\r\n\timport sqBtn from '@/components/common/sq-btn.vue'\r\n\texport default {\r\n\t\tname: 'bzf',\r\n\t\tcomponents: {\r\n\t\t\tMgCell,\r\n\t\t\tsqBtn,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmoney: '',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tmoney: '',\r\n\t\t\t\t\tstoreId: '',\r\n\t\t\t\t\tuserNote: '',\r\n\t\t\t\t\tuseCouponId: '',\r\n\t\t\t\t},\r\n\t\t\t\tshopinfo: {},\r\n\t\t\t\tmdconfig: null,\r\n\t\t\t\tdiscountData:null,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tkyhb: {\r\n\t\t\t\t\tn: 0,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t},\r\n\t\t\t\tcouponInfo: null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tthis.getSystem()\r\n\t\t\tthis.util.setNT('买单')\r\n\t\t\t// this.getConfig()\r\n\t\t\tthis.params.storeId = utils.getOptions(options, {\r\n\t\t\t\tkey: 'storeId',\r\n\t\t\t\tq1: this.storeInfo.id,\r\n\t\t\t})\r\n\t\t\tthis.getLoginInfo().then(() => {\r\n\t\t\t\t// this.refreshUser({\r\n\t\t\t\t// \tget: 1,\r\n\t\t\t\t// \tnow: 1,\r\n\t\t\t\t// })\r\n\t\t\t\t//获取可用红包\r\n\t\t\t\t// this.getyhqArr()\r\n\t\t\t})\r\n\t\t\tlet {\r\n\t\t\t\tdata\r\n\t\t\t} = await this.util.request({\r\n\t\t\t\t'url': this.api.zjdp,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tstoreId: this.params.storeId,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.shopinfo = data\r\n\t\t\tthis.getDiscount()\r\n\t\t},\r\n\t\tmixins: [utilMixins],\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tstoreInfo: state => state.config.storeInfo,\r\n\t\t\t}),\r\n\t\t\tyhq() {\r\n\t\t\t\treturn this.mdconfig && this.mdconfig.discount.indexOf('1') > -1\r\n\t\t\t},\r\n\t\t\tvip() {\r\n\t\t\t\treturn this.isVip && this.mdconfig && this.mdconfig.discount.indexOf('3') > -1\r\n\t\t\t},\r\n\t\t\tzkmoney() {\r\n\t\t\t\tlet m = 0,\r\n\t\t\t\t\tyhqMoney = +(this.couponInfo && this.couponInfo.money || 0)\r\n\t\t\t\tif (this.vip && this.user.discount) {\r\n\t\t\t\t\tm = (10 - this.user.discount) / 10 * (this.money - yhqMoney)\r\n\t\t\t\t}\r\n\t\t\t\treturn this.blxs(m)\r\n\t\t\t},\r\n\t\t\tnewMoney(){\r\n\t\t\t\treturn this.discountData && this.discountData.newMoney \r\n\t\t\t},\r\n\t\t\ttotal() {\r\n\t\t\t\tlet m = 0,\r\n\t\t\t\t\tyhqMoney = +(this.couponInfo && this.couponInfo.money || 0),\r\n\t\t\t\t\tzkmoney = this.zkmoney\r\n\t\t\t\tm = this.blxs(this.money - yhqMoney - zkmoney)\r\n\t\t\t\tif(this.newMoney){\r\n\t\t\t\t\tm = this.newMoney\r\n\t\t\t\t}\r\n\t\t\t\tm <= 0 && (m = 0.01)\r\n\t\t\t\t// console.log(this.money,yhqMoney,zkmoney,this.money - yhqMoney - zkmoney)\r\n\t\t\t\treturn m\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tminput(e) {\r\n\t\t\t\tthis.couponInfo = null\r\n\t\t\t\tthis.getDiscount()\r\n\t\t\t\t// this.changeUsecoupon()\r\n\t\t\t},\r\n\t\t\tchangeUsecoupon() {\r\n\t\t\t\tlet n = 0,\r\n\t\t\t\t\tdata = utils.deepCopy(this.yhqArr)\r\n\t\t\t\tfor (let i in data) {\r\n\t\t\t\t\tif (data[i].isUse == 1) {\r\n\t\t\t\t\t\tif (this.money >= +data[i].full || data[i].isLimit == 1) {\r\n\t\t\t\t\t\t\t// console.log(data[i], this.money, data[i].full, this.money >= data[i].full)\r\n\t\t\t\t\t\t\tdata[i].isUse = 1\r\n\t\t\t\t\t\t\tn += 1\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdata[i].isUse = 2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.kyhb = {\r\n\t\t\t\t\tn,\r\n\t\t\t\t\tdata\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync('kyhb', this.kyhb)\r\n\t\t\t\t// console.log(this.money, data)\r\n\t\t\t},\r\n\t\t\tasync getConfig() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.config,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tident: 'cashierset'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.mdconfig = data\r\n\t\t\t},\r\n\t\t\tasync getDiscount() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.getDiscount,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmoney: this.money\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.discountData = data\r\n\t\t\t},\r\n\t\t\tasync getyhqArr() {\r\n\t\t\t\tthis.util.showLoading()\r\n\t\t\t\tuni.setStorageSync('kyhb', {\r\n\t\t\t\t\tn: 0,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t})\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.AvailableCoupon,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: 3,\r\n\t\t\t\t\t\tuserId: this.params.userId,\r\n\t\t\t\t\t\tstoreId: this.params.storeId,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tthis.yhqArr = data\r\n\t\t\t\t\tthis.changeUsecoupon()\r\n\t\t\t\t}\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},\r\n\t\t\tchangeCoupon(e) {\r\n\t\t\t\tthis.couponInfo = e || null\r\n\t\t\t\tthis.params.useCouponId = e ? e.id : ''\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t},\r\n\t\t\tasync qdzf() {\r\n\t\t\t\tif (!this.money) {\r\n\t\t\t\t\treturn this.util.message('请输入金额', 3)\r\n\t\t\t\t}\r\n\t\t\t\tif (!await this.checkLogin()) return\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t// await this.requestSM('cashierOrder')\r\n\t\t\t\tthis.params.money = this.money\r\n\t\t\t\t// console.log(this.params)\r\n\t\t\t\t// return\r\n\t\t\t\tlet res = await this.util.request({\r\n\t\t\t\t\t'url': this.api['syxd'],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tmask: '下单中',\r\n\t\t\t\t\tdata: this.params,\r\n\t\t\t\t})\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\tt: 2,\r\n\t\t\t\t\t\turl: '/yb_wm/other/mg-pay?payObj=' + encodeURIComponent(JSON.stringify({\r\n\t\t\t\t\t\t\torderId: res.data,\r\n\t\t\t\t\t\t\torderType: 5,\r\n\t\t\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\t\t\tmoney: this.total,\r\n\t\t\t\t\t\t\t\ttype: \"买单支付\",\r\n\t\t\t\t\t\t\t\tcancel: 1,\r\n\t\t\t\t\t\t\t\tgo: {\r\n\t\t\t\t\t\t\t\t\tt: 6,\r\n\t\t\t\t\t\t\t\t\turl: \"/yb_wm/index/order-index\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #F8F8F8;\r\n\t}\r\n\r\n\t.itpc {\r\n\t\tcolor: #E6E6E6;\r\n\t}\r\n\r\n\t.mdps {\r\n\t\tfont-size: 45rpx;\r\n\t\tfont-weight: normal;\r\n\t\tline-height: normal;\r\n\t}\r\n</style>\r\n<style scoped lang=\"scss\">\r\n\t.cfc {\r\n\t\tcolor: #FF5D0C;\r\n\t}\r\n\r\n\t.sjimg {\r\n\t\twidth: 90rpx;\r\n\t\theight: 90rpx;\r\n\t}\r\n\r\n\t.mdbd {\r\n\t\tborder-radius: 40rpx 40rpx 0 0;\r\n\t}\r\n\r\n\t.mdbdt {\r\n\t\tmargin: 0 50rpx;\r\n\t}\r\n\r\n\t.mdinput {\r\n\t\tfont-size: 70rpx;\r\n\t\theight: 2.9rem;\r\n\t\tline-height: 2.9rem;\r\n\t\tcaret-color: #17E883\r\n\t}\r\n\r\n\t.mdbdb {\r\n\t\tpadding: 0 50rpx;\r\n\t}\r\n\r\n\t.hdwith {\r\n\t\twidth: 100rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637836923830\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=style&index=1&id=81f25f2a&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dmf.vue?vue&type=style&index=1&id=81f25f2a&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637836929144\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}