{"version":3,"sources":["uni-app:///main.js","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/car.vue?9c71","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/car.vue?8b65","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/car.vue?ec9b","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/car.vue?6e8f","uni-app:///yb_wm/shop/in/car.vue","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/car.vue?196e","webpack:///F:/code123/云贝全开源/【开源】云贝独立版VUE/前端/uniapp前端/用户端yb_小程序/yb_wm/yb_wm/shop/in/car.vue?9b6f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAA6lB,CAAgB,unBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuGjnB;;;;;;;;;AASA,mF;AACA,8B;AACA;AACA,qBADA;AAEA;AACA,gBADA;AAEA,kBAFA;AAGA,gBAHA;AAIA,YAJA;AAKA,cALA,EAFA;;AASA,MATA,kBASA;AACA;AACA,mBADA;AAEA,oBAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,mBALA;;AAOA,GAjBA;AAkBA,QAlBA,kBAkBA,OAlBA,EAkBA;AACA;AACA,0BADA;;AAGA;AACA;AACA;AANA,uCAOA,oBAPA;AAQA,gEARA;AASA;AACA,gDADA;AAEA,gDAFA;AAGA,uBAHA;AAIA,0BAJA,GATA;;;AAgBA,0BAhBA;;AAkBA;AACA;AACA;AACA,eAFA,EAEA,IAFA;AAGA,2BAtBA;AAuBA,GAzCA;AA0CA,QA1CA,oBA0CA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KALA,MAKA;AACA;AACA;AACA,GAnDA;AAoDA;AACA,mCADA;AAEA,WAFA,qBAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArBA,GApDA;;AA2EA;AACA,8DADA;AAEA,gBAFA,0BAEA;;;;AAIA;AACA,4CADA;AAEA,kCAFA;AAGA;AACA,uDADA,EAHA,GAJA,gDAGA,IAHA,yBAGA,IAHA;;;AAWA,yCAXA;AAYA,KAdA;AAeA,YAfA,sBAeA;;AAEA,gDAFA;AAGA,qDAHA;AAIA,kDAJA;;AAMA,KArBA;AAsBA,QAtBA,kBAsBA;AACA;AACA,mBADA;AAEA,2BAFA;AAGA,yBAHA;AAIA;AACA;AACA,gBADA;AAEA,qCAFA;;AAIA,SATA;;AAWA,KAlCA;AAmCA;AACA,WApCA,mBAoCA,CApCA,EAoCA;;AAEA;AACA,kCADA;AAEA,gCAFA;AAGA,0CAHA;AAIA,gCAJA,IAFA;;AAQA;AACA;AATA;AAWA,sCAXA;;AAaA,KAjDA;AAkDA,OAlDA,eAkDA,CAlDA,EAkDA;AACA;AACA;AACA,eADA;AAEA,YAFA;;AAIA,KAxDA;AAyDA,OAzDA,eAyDA,CAzDA,EAyDA;AACA;AACA;AACA,eADA;AAEA,YAFA;;AAIA;AACA,KAhEA;AAiEA,QAjEA,kBAiEA;AACA,iDADA;AAEA,oFAFA;AAGA;AACA;AACA;AACA;AACA,kCAPA;AAQA,KAzEA;AA0EA,WA1EA,qBA0EA;AACA;AACA,4CADA;AAEA,kCAFA;AAGA;AACA,uDADA,EAHA,GADA,SACA,GADA;;;AAQA,mBARA;AASA,kCATA,8BASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA,iBAxBA;;;;;AA6BA,KAvGA;AAwGA,QAxGA,kBAwGA;AACA;AACA,YADA;;AAGA,KA5GA;AA6GA,QA7GA,kBA6GA;AACA,qCADA,+DACA,kCADA;AAEA,sCAFA;AAGA;AACA,0CADA;AAEA,kCAFA;AAGA,2BAHA;AAIA;AACA,4DADA,EAJA,GAHA,SAGA,GAHA;;;AAWA;AACA;AACA,wBADA;AAEA,sFAFA;;AAIA,iBALA,MAKA;AACA;AACA,iBAlBA;AAmBA,KAhIA;AAiIA,QAjIA,kBAiIA;;;AAGA;AACA,kDADA;AAEA,kCAFA;AAGA;AACA,iCADA;AAEA,wDAFA,EAHA,GAHA,gDAEA,IAFA,yBAEA,IAFA;;;AAWA,gCAXA;AAYA;AACA,sBADA,IAZA;;AAeA,KAhJA;AAiJA,QAjJA,kBAiJA;AACA,sCADA,+DACA,mCADA;AAEA;AACA,sBADA;AAEA,qGAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA,6EAoCA,CArLA;AAsLA,aAtLA,qBAsLA,CAtLA,EAsLA;AACA;AACA;AACA,KAzLA,GA3EA;;AAsQA,UAtQA,sBAsQA;AACA;AACA,GAxQA;AAyQA,QAzQA,oBAyQA;AACA;AACA,GA3QA,E;;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAunC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACA3oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"yb_wm/shop/in/car.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './yb_wm/shop/in/car.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./car.vue?vue&type=template&id=764f87c2&scoped=true&\"\nvar renderjs\nimport script from \"./car.vue?vue&type=script&lang=js&\"\nexport * from \"./car.vue?vue&type=script&lang=js&\"\nimport style0 from \"./car.vue?vue&type=style&index=0&id=764f87c2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"764f87c2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"yb_wm/shop/in/car.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./car.vue?vue&type=template&id=764f87c2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.orderGoods.goodsArr, function(v, i) {\n    var $orig = _vm.__get_orig(v)\n\n    var m0 = _vm.itemTotal(v)\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  var l2 = _vm.__map(_vm.orderGoods.addGoods, function(pv, pi) {\n    var $orig = _vm.__get_orig(pv)\n\n    var l1 = _vm.__map(pv, function(v, i) {\n      var $orig = _vm.__get_orig(v)\n\n      var m1 = _vm.itemTotal(v)\n      return {\n        $orig: $orig,\n        m1: m1\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l1: l1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l2: l2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./car.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./car.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pb130\">\r\n\t\t<view class=\"posi-f w100 t0 f-y-c tgg cfc\">\r\n\t\t\t<text class=\"iconfont icongg mr30 cfc\"></text>\r\n\t\t\t<view class=\"f-1 f22\">本页面会每5秒刷新一次页面，保证其他人所点的商品能够实时同步；订单支付后，大厨就开始制作啦!</view>\r\n\t\t\t<view class=\"f-c ml20\">\r\n\t\t\t\t<text @click=\"go({url:'/yb_wm/shop/in/indd'})\" class=\"iconfont icondd f48 c3\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"carlistc p02\" :style=\"{paddingTop:'80rpx'}\">\r\n\t\t\t<mg-cell bgc='transparent' isl='1' :sname=\"{padding:'30rpx 10rpx'}\">\r\n\t\t\t\t<view slot='bd' class=\"f-y-c\">\r\n\t\t\t\t\t<text class=\"\">已选以下商品</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"f-y-c f24\" slot='ft'>\r\n\t\t\t\t\t<text @click=\"sxsj\" class='iconfont iconsx f50 c0' style=\"margin-right: 40rpx;\"></text>\r\n\t\t\t\t\t<text @click=\"clearCar\" class='iconfont iconshanchu f42 c0'></text>\r\n\t\t\t\t</view>\r\n\t\t\t</mg-cell>\r\n\t\t\t<view v-if=\"tableInfo.orderInfo&&orderGoods.goodsArr\" class=\"p20\">当前桌位订单商品</view>\r\n\t\t\t<view class=\"ucarlc o-h bf\" style=\"opacity: 0.5;\">\r\n\t\t\t\t<block v-for=\"(v,i) in orderGoods.goodsArr\" :key='i'>\r\n\t\t\t\t\t<mg-cell w='160' h='160' :img='v.icon' brs='5rpx' cname='f-sh' hdc='f-s'>\r\n\t\t\t\t\t\t<view slot='bd' class=\"h100 f-y-bt\">\r\n\t\t\t\t\t\t\t<view class=\"f-bt\">\r\n\t\t\t\t\t\t\t\t<view class=\"t-o-e f32 c0\">{{v.name}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"f-bt mt10\">\r\n\t\t\t\t\t\t\t\t<view class=\"f-g-1 f24 c9\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"\" v-if=\"v.data\">{{v.data}}</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"v.attribute\">({{v.attribute}})</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"ml10\" v-if=\"v.material\">+{{v.material}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"f-x-bt mt10\">\r\n\t\t\t\t\t\t\t\t<view class=\"f-g-0\" :style=\"{color:tColor}\">{{sl}}<text class=\"f36 wei\">{{itemTotal(v)}}</text></view>\r\n\t\t\t\t\t\t\t\t<view class=\"c9\">x{{v.num}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</mg-cell>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ucarlc o-h bf mt20 p-r pt30\" style=\"opacity: 0.5;\" v-for=\"(pv,pi) in orderGoods.addGoods\" :key='pi'>\r\n\t\t\t\t<block v-for=\"(v,i) in pv\" :key='i'>\r\n\t\t\t\t\t<mg-cell w='160' h='160' :img='v.icon' brs='5rpx' cname='f-sh' hdc='f-s'>\r\n\t\t\t\t\t\t<view slot='bd' class=\"h100 f-y-bt\">\r\n\t\t\t\t\t\t\t<view class=\"f-bt\">\r\n\t\t\t\t\t\t\t\t<view class=\"t-o-e f32 c0\">{{v.name}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"f-bt mt10\">\r\n\t\t\t\t\t\t\t\t<view class=\"f-g-1 f24 c9\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"\" v-if=\"v.data\">{{v.data}}</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"v.attribute\">({{v.attribute}})</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"ml10\" v-if=\"v.material\">+{{v.material}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"f-x-bt mt10\">\r\n\t\t\t\t\t\t\t\t<view class=\"f-g-0\" :style=\"{color:tColor}\">{{sl}}<text class=\"f36 wei\">{{itemTotal(v)}}</text></view>\r\n\t\t\t\t\t\t\t\t<view class=\"c9\">x{{v.num}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</mg-cell>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"p-a sjx cf\">加</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"tableInfo.orderInfo&&orderGoods.goodsArr\" class=\"p20\">新增商品</view>\r\n\t\t\t<view class=\"p0\">\r\n\t\t\t\t<view class=\"mb30 ucarlc o-h bf\">\r\n\t\t\t\t\t<!-- <view class=\"posi-r p330 f-y-c\">\r\n\t\t\t\t\t\t<view class=\"cimg bsf mr30\">\r\n\t\t\t\t\t\t\t<mg-img :src=\"v.portrait\"></mg-img>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"f-1 t-o-e\">{{v.userName}}</view>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<goods :d-list='carList' addtype='2' outin='2' type='6' @dec='dec' @add='add'></goods>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<jzz v-if=\"carList.length==0\" bgcolor=\"transparent\" :nodata=\"true\" :mygd='true' otext='暂未添加商品' />\r\n\t\t<view v-if='tableInfo.userId' class=\"dbbtnc bf f-row\" :style=\"{bottom: isIpx?'40rpx':0}\">\r\n\t\t\t<view class=\"f-1 f-y-c\">\r\n\t\t\t\t<view class=\"cf1 mr30\"><text class=\"c3\">合计：</text>{{sl}}<text class=\"f36 wei\">{{scarList.ins.price}}</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view c class=\"dbbtn o-h f-row\">\r\n\t\t\t\t<button @click=\"jxdc\" class=\"dbl f-c\">继续点单</button>\r\n\t\t\t\t<button :disabled=\"loading\" v-if=\"tableInfo.orderInfo&&tableInfo.orderInfo.state==2\" @click=\"tjsp\" class=\"dbr f-c\">提交商品</button>\r\n\t\t\t\t<button v-if=\"!tableInfo.orderInfo\" @click=\"ljxd\" class=\"dbr f-c f-1\">去下单</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"isIpx\" class='bgf'></view>\r\n\t\t<!-- <button class='hddb' @click='sxsj'>\r\n\t\t\t<image class=\"hddbimg\" src='/static/dndc/sx.png'></image>\r\n\t\t</button>\r\n\t\t<view v-if=\"scarList.table.manyType==2\" class='sdbg'>\r\n\t\t\t<image class=\"sdimg\" src='/static/dndc/suo.png'></image>\r\n\t\t\t<view>订单已锁定</view>\r\n\t\t\t<button v-if=\"otableInfo.userId==uId\" class=\"sdbtn\" @click='jsdd'>解锁并继续点单</button>\r\n\t\t</view> -->\r\n\t\t<load type=\"2\" v-model=\"showjz\"></load>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\timport goods from '@/components/goods/index.vue'\r\n\timport MgCell from '@/components/common/mg-cell.vue'\r\n\timport MgImg from '@/components/common/mg-img.vue'\r\n\timport jzz from '@/components/common/jzz.vue'\r\n\timport load from '@/components/common/load.vue'\r\n\timport utils from '@/common/utils'\r\n\tlet app = getApp().globalData\r\n\texport default {\r\n\t\tname: 'order-index',\r\n\t\tcomponents: {\r\n\t\t\tgoods,\r\n\t\t\tMgCell,\r\n\t\t\tMgImg,\r\n\t\t\tjzz,\r\n\t\t\tload,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableInfo: {},\r\n\t\t\t\totableInfo: {},\r\n\t\t\t\torderGoods: {},\r\n\t\t\t\tloading: false,\r\n\t\t\t\tshowjz: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tthis.getSystem({\r\n\t\t\t\tnosetNB: 1\r\n\t\t\t})\r\n\t\t\tthis.util.setNT('购物车')\r\n\t\t\tthis.tableInfo = JSON.parse(decodeURIComponent(options.tableInfo))\r\n\t\t\t// console.log(this.tableInfo)\r\n\t\t\tawait this.getLoginInfo()\r\n\t\t\tif (this.tableInfo.storeId && this.tableInfo.tableId) {\r\n\t\t\t\tthis.supdCarbp = {\r\n\t\t\t\t\tstoreId: this.tableInfo.storeId,\r\n\t\t\t\t\ttableId: this.tableInfo.tableId,\r\n\t\t\t\t\titem: 2,\r\n\t\t\t\t\tkey: 'ins',\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.tips()\r\n\t\t\t}\r\n\t\t\t// this.getTableInfo()\r\n\t\t\tthis.dsq = setInterval(() => {\r\n\t\t\t\tthis.sxsj()\r\n\t\t\t}, 5000)\r\n\t\t\tthis.sxsj()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (this.isload) {\r\n\t\t\t\tthis.sxsj()\r\n\t\t\t\tthis.dsq = setInterval(() => {\r\n\t\t\t\t\tthis.sxsj()\r\n\t\t\t\t}, 5000)\r\n\t\t\t} else {\r\n\t\t\t\tthis.isload = true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['scarList']),\r\n\t\t\tcarList() {\r\n\t\t\t\treturn this.scarList.ins.data || []\r\n\t\t\t\t// let arr = []\r\n\t\t\t\t// for (let i in this.scarList.ins.data) {\r\n\t\t\t\t// \tif (this.scarList.ins.data[i].originalNum > 0) {\r\n\t\t\t\t// \t\tarr.push(Object.assign({\r\n\t\t\t\t// \t\t\tishd: 0,\r\n\t\t\t\t// \t\t\tspnum: this.scarList.ins.data[i].originalNum\r\n\t\t\t\t// \t\t}, this.scarList.ins.data[i]))\r\n\t\t\t\t// \t\treturn arr\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tif (this.scarList.ins.data[i].discountNum > 0) {\r\n\t\t\t\t// \t\tarr.push(Object.assign({\r\n\t\t\t\t// \t\t\tishd: 1,\r\n\t\t\t\t// \t\t\tspnum: this.scarList.ins.data[i].discountNum\r\n\t\t\t\t// \t\t}, this.scarList.ins.data[i]))\r\n\t\t\t\t// \t\treturn arr\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions([\"supdCar\", \"getMycar\", \"clearMycar\"]),\r\n\t\t\tasync getTableInfo() {\r\n\t\t\t\t//请求桌位信息\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.tsczxq,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttableId: this.tableInfo.tableId,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.otableInfo = data\r\n\t\t\t},\r\n\t\t\tasync clearCar() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.util.modal('确认清空购物车吗？')\r\n\t\t\t\t\tawait this.clearMycar(this.supdCarbp)\r\n\t\t\t\t\tthis.getMycar(this.supdCarbp)\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t},\r\n\t\t\ttips() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '未获取到桌位信息',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\t\tt: 6,\r\n\t\t\t\t\t\t\turl: '/yb_wm/index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//修改数量公用方法\r\n\t\t\tasync updList(p) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.supdCar({\r\n\t\t\t\t\t\t...this.supdCarbp,\r\n\t\t\t\t\t\ttype: p.type,\r\n\t\t\t\t\t\tgoodsId: p.e.g.goodsId,\r\n\t\t\t\t\t\tid: p.e.g.id,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.showjz = false\r\n\t\t\t\t\t// this.sxsj()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.showjz = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdec(e) {\r\n\t\t\t\tthis.showjz = true\r\n\t\t\t\tthis.updList({\r\n\t\t\t\t\ttype: 2,\r\n\t\t\t\t\te,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tadd(e) {\r\n\t\t\t\tthis.showjz = true\r\n\t\t\t\tthis.updList({\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t\te,\r\n\t\t\t\t})\r\n\t\t\t\t// console.log('listadd', e)\r\n\t\t\t},\r\n\t\t\tasync sxsj() {\r\n\t\t\t\tthis.util.showLoading('同步商品中')\r\n\t\t\t\tawait Promise.all([this.getMycar(this.supdCarbp), this.getInfo()])\r\n\t\t\t\t//1正常2锁定\r\n\t\t\t\t// if (this.scarList.table.manyType == 2) {\r\n\t\t\t\t// \tclearInterval(this.dsq)\r\n\t\t\t\t// }\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},\r\n\t\t\tasync getInfo() {\r\n\t\t\t\tlet res = await this.util.request({\r\n\t\t\t\t\t'url': this.api.tsczxq,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttableId: this.tableInfo.tableId,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tif (res.data.orderInfo) { //有餐后付款的订单\r\n\t\t\t\t\t\t// let {\r\n\t\t\t\t\t\t// \tdata\r\n\t\t\t\t\t\t// } = await this.util.request({\r\n\t\t\t\t\t\t// \t'url': this.api.tsddxq,\r\n\t\t\t\t\t\t// \tdata: {\r\n\t\t\t\t\t\t// \t\tid: res.data.orderInfo.id\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\tif (res.data.orderInfo.state < 3) {\r\n\t\t\t\t\t\t\tthis.tableInfo.orderInfo = res.data.orderInfo\r\n\t\t\t\t\t\t\tthis.orderGoods = res.data.orderInfo\r\n\t\t\t\t\t\t} else { //fromthistoinddthenpaypayfinishbtnbacknotfinishbtn\r\n\t\t\t\t\t\t\tthis.tableInfo.orderInfo = false\r\n\t\t\t\t\t\t\tthis.orderGoods = {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tjxdc() {\r\n\t\t\t\tthis.go({\r\n\t\t\t\t\tt: 4\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync tjsp() {\r\n\t\t\t\tif (!this.carList.length) return this.util.message('请添加商品后提交', 3)\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tlet res = await this.util.request({\r\n\t\t\t\t\t'url': this.api.tsjc,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tmask: 1,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\torderId: this.tableInfo.orderInfo.id,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.go({\r\n\t\t\t\t\t\tt: 2,\r\n\t\t\t\t\t\turl: '/yb_wm/shop/in/order-dl?id=' + this.tableInfo.orderInfo.id,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync jsdd() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.util.request({\r\n\t\t\t\t\t'url': this.api.UpdCarState,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmanyType: 1,\r\n\t\t\t\t\t\ttableId: this.tableInfo.tableId,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tawait this.sxsj()\r\n\t\t\t\tthis.go({\r\n\t\t\t\t\tt: 4\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync ljxd() {\r\n\t\t\t\tif (!this.carList.length) return this.util.message('请添加商品后下单', 3)\r\n\t\t\t\tthis.go({\r\n\t\t\t\t\tt: 1,\r\n\t\t\t\t\turl: 'pay-order?tableInfo=' + encodeURIComponent(JSON.stringify(this.tableInfo))\r\n\t\t\t\t})\r\n\t\t\t\t// if (this.scarList.table.manyType == 2) {\r\n\t\t\t\t// \tthis.go({\r\n\t\t\t\t// \t\tt: 1,\r\n\t\t\t\t// \t\turl: 'pay-order?tableInfo=' + encodeURIComponent(JSON.stringify(this.tableInfo))\r\n\t\t\t\t// \t})\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \ttry {\r\n\t\t\t\t// \t\tawait this.util.modal('提交订单后将锁定订单')\r\n\t\t\t\t// \t\tlet {\r\n\t\t\t\t// \t\t\tdata\r\n\t\t\t\t// \t\t} = await this.util.request({\r\n\t\t\t\t// \t\t\t'url': this.api.UpdCarState,\r\n\t\t\t\t// \t\t\tmethod: 'POST',\r\n\t\t\t\t// \t\t\tmask: 1,\r\n\t\t\t\t// \t\t\tdata: {\r\n\t\t\t\t// \t\t\t\tmanyType: 2,\r\n\t\t\t\t// \t\t\t\ttableId: this.tableInfo.tableId,\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t})\r\n\t\t\t\t// \t\tclearInterval(this.dsq)\r\n\t\t\t\t// \t\tawait this.sxsj()\r\n\t\t\t\t// \t\tsetTimeout(() => {\r\n\t\t\t\t// \t\t\tthis.go({\r\n\t\t\t\t// \t\t\t\tt: 1,\r\n\t\t\t\t// \t\t\t\turl: 'pay-order?tableInfo=' + encodeURIComponent(JSON.stringify(this.tableInfo))\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t\tconsole.log('跳转')\r\n\t\t\t\t// \t\t}, 500)\r\n\t\t\t\t// \t} catch (e) {}\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\titemTotal(v) {\r\n\t\t\t\tlet itemTotal = +(v.vipMoney > 0 && +v.vipMoney < +v.money && v.vipMoney || v.money)\r\n\t\t\t\treturn +(itemTotal * v.num).toFixed(2)\r\n\t\t\t},\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tthis.dsq && clearInterval(this.dsq)\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tclearInterval(this.dsq)\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.tgg {\r\n\t\tpadding: 10rpx 30rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 1.4;\r\n\t\tbackground: #FFF3EA;\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.cfc {\r\n\t\tcolor: #ff7c1c;\r\n\t}\r\n\r\n\t.dbbtnc {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tz-index: 998;\r\n\t\tpadding: 20rpx 30rpx;\r\n\r\n\t\t.dbbtn {\r\n\t\t\tborder-radius: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t}\r\n\r\n\t\t.dbl,\r\n\t\t.dbr {\r\n\t\t\twidth: 180rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tborder-radius: 80rpx;\r\n\t\t}\r\n\r\n\t\t.dbl {\r\n\t\t\tmargin-right: 40rpx;\r\n\t\t\t// border-radius: 80rpx 0 0 80rpx;\r\n\t\t\tbackground: linear-gradient(to right, #f8c10d, #ff9503);\r\n\t\t}\r\n\r\n\t\t.dbr {\r\n\t\t\t// border-radius: 0 80rpx 80rpx 0;\r\n\t\t\tbackground: linear-gradient(to right, #ff7a01, #ff560a);\r\n\t\t}\r\n\t}\r\n\r\n\t.sdbg {\r\n\t\tposition: fixed;\r\n\t\tbackground: #fff;\r\n\t\topacity: 0.8;\r\n\t\ttop: 0;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tz-index: 997;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 35rpx;\r\n\t\tcolor: #000;\r\n\r\n\t\t.sdimg {\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t}\r\n\r\n\t\t.sdbtn {\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tbackground: linear-gradient(to right, #ff7a01, #ff560a);\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.hddb {\r\n\t\tbottom: 300rpx;\r\n\r\n\t\t.hddbimg {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t}\r\n\t}\r\n\r\n\t.cimg {\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t\tposition: relative;\r\n\t\tz-index: 2;\r\n\t}\r\n\r\n\t.cun {\r\n\t\theight: 50rpx;\r\n\t\tborder-radius: 50rpx;\r\n\t\tpadding: 0 30rpx 0 40rpx;\r\n\t\tbottom: 2rpx;\r\n\t\tleft: 40rpx;\r\n\t\tbackground: #F5F5F5;\r\n\t}\r\n\r\n\t.ucarlc {\r\n\t\tborder-radius: 25rpx;\r\n\t}\r\n\r\n\t.sjx {\r\n\t\ttop: 0;\r\n\t\tleft: 0rpx;\r\n\t\tpadding: 0 40rpx;\r\n\t\theight: 35rpx;\r\n\t\tfont-size: 20rpx;\r\n\t\tline-height: 35rpx;\r\n\t\tborder-radius: 0 0 20rpx 0;\r\n\t\tbackground: linear-gradient(#F75214, #F87D22);\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./car.vue?vue&type=style&index=0&id=764f87c2&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./car.vue?vue&type=style&index=0&id=764f87c2&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637836929335\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}